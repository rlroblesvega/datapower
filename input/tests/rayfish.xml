<?xml version="1.0" encoding="utf-8"?>
<tests xmlns:json="http://json.org/">

	<params>
		<param name="use-rayfish">true</param>
	</params>

	<test id="element-names">
		<input>
			<node-name/>
		</input>
		<output>
			<json:object>
				<json:member>
					<json:name>#name</json:name>
					<json:value>node-name</json:value>
				</json:member>
				<json:member>
					<json:name>#text</json:name>
					<json:value/>
				</json:member>
				<json:member>
					<json:name>#children</json:name>
					<json:value>
						<json:array/>
					</json:value>
				</json:member>
			</json:object>
		</output>
	</test>

	<test id="text-content">
		<input>
			<alice>bob</alice>
		</input>
		<output>
			<json:object>
				<json:member>
					<json:name>#name</json:name>
					<json:value>alice</json:value>
				</json:member>
				<json:member>
					<json:name>#text</json:name>
					<json:value>bob</json:value>
				</json:member>
				<json:member>
					<json:name>#children</json:name>
					<json:value>
						<json:array/>
					</json:value>
				</json:member>
			</json:object>
		</output>
	</test>

	<test id="nested-elements">
		<input>
			<alice>
				<bob>charlie</bob>
				<david>edgar</david>
			</alice>
		</input>
		<output>
			<json:object>
				<json:member>
					<json:name>#name</json:name>
					<json:value>alice</json:value>
				</json:member>
				<json:member>
					<json:name>#text</json:name>
					<json:value/>
				</json:member>
				<json:member>
					<json:name>#children</json:name>
					<json:value>
						<json:array>
							<json:array-value>
								<json:value>
									<json:object>
										<json:member>
											<json:name>#name</json:name>
											<json:value>bob</json:value>
										</json:member>
										<json:member>
											<json:name>#text</json:name>
											<json:value>charlie</json:value>
										</json:member>
										<json:member>
											<json:name>#children</json:name>
											<json:value>
												<json:array/>
											</json:value>
										</json:member>
									</json:object>
								</json:value>
							</json:array-value>
							<json:array-value>
								<json:value>
									<json:object>
										<json:member>
											<json:name>#name</json:name>
											<json:value>david</json:value>
										</json:member>
										<json:member>
											<json:name>#text</json:name>
											<json:value>edgar</json:value>
										</json:member>
										<json:member>
											<json:name>#children</json:name>
											<json:value>
												<json:array/>
											</json:value>
										</json:member>
									</json:object>
								</json:value>
							</json:array-value>
						</json:array>
					</json:value>
				</json:member>
			</json:object>
		</output>
	</test>

	<test id="multiple-elements">
		<input>
			<alice>
				<bob>charlie</bob>
				<bob>david</bob>
			</alice>
		</input>
		<output>
			<json:object>
				<json:member>
					<json:name>#name</json:name>
					<json:value>alice</json:value>
				</json:member>
				<json:member>
					<json:name>#text</json:name>
					<json:value/>
				</json:member>
				<json:member>
					<json:name>#children</json:name>
					<json:value>
						<json:array>
							<json:array-value>
								<json:value>
									<json:object>
										<json:member>
											<json:name>#name</json:name>
											<json:value>bob</json:value>
										</json:member>
										<json:member>
											<json:name>#text</json:name>
											<json:value>charlie</json:value>
										</json:member>
										<json:member>
											<json:name>#children</json:name>
											<json:value>
												<json:array/>
											</json:value>
										</json:member>
									</json:object>
								</json:value>
							</json:array-value>
							<json:array-value>
								<json:value>
									<json:object>
										<json:member>
											<json:name>#name</json:name>
											<json:value>bob</json:value>
										</json:member>
										<json:member>
											<json:name>#text</json:name>
											<json:value>david</json:value>
										</json:member>
										<json:member>
											<json:name>#children</json:name>
											<json:value>
												<json:array/>
											</json:value>
										</json:member>
									</json:object>
								</json:value>
							</json:array-value>
						</json:array>
					</json:value>
				</json:member>
			</json:object>
		</output>
	</test>

	<test id="attributes">
		<input>
			<alice charlie="david">bob</alice>
		</input>
		<output>	
			<json:object>
				<json:member>
					<json:name>#name</json:name>
					<json:value>alice</json:value>
				</json:member>
				<json:member>
					<json:name>#text</json:name>
					<json:value>bob</json:value>
				</json:member>
				<json:member>
					<json:name>#children</json:name>
					<json:value>
						<json:array>
							<json:array-value>
								<json:value>
									<json:object>
										<json:member>
											<json:name>#name</json:name>
											<json:value>@charlie</json:value>
										</json:member>
										<json:member>
											<json:name>#text</json:name>
											<json:value>david</json:value>
										</json:member>
										<json:member>
											<json:name>#children</json:name>
											<json:value>
												<json:array/>
											</json:value>
										</json:member>
									</json:object>
								</json:value>
							</json:array-value>
						</json:array>
					</json:value>
				</json:member>
			</json:object>
		</output>
	</test>
</tests>
